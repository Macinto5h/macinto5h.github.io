import{r as t,h as s,H as i,g as e,c as r}from"./p-20a9442c.js";var a,o=new Uint8Array(16);function d(){if(!a&&!(a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(o)}const n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function l(t){return"string"==typeof t&&n.test(t)}for(var h=[],c=0;c<256;++c)h.push((c+256).toString(16).substr(1));function f(t,s,i){var e=(t=t||{}).random||(t.rng||d)();if(e[6]=15&e[6]|64,e[8]=63&e[8]|128,s){i=i||0;for(var r=0;r<16;++r)s[i+r]=e[r];return s}return function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(h[t[s+0]]+h[t[s+1]]+h[t[s+2]]+h[t[s+3]]+"-"+h[t[s+4]]+h[t[s+5]]+"-"+h[t[s+6]]+h[t[s+7]]+"-"+h[t[s+8]]+h[t[s+9]]+"-"+h[t[s+10]]+h[t[s+11]]+h[t[s+12]]+h[t[s+13]]+h[t[s+14]]+h[t[s+15]]).toLowerCase();if(!l(i))throw TypeError("Stringified UUID is invalid");return i}(e)}const y=class{constructor(s){t(this,s),this.uuid=f(),this.activeSlide=0,this.prevArrowInnerHTML="←",this.nextArrowInnerHTML="→"}componentWillLoad(){this.slideCount=this.root.children.length}componentDidLoad(){try{this.applyActiveSlideChanges(this.activeSlide)}catch(t){console.error("safety-slider: no content has been provided in the slot.")}}slideChangeHandler(t){this.setActiveSlide(t.detail)}async setActiveSlide(t){try{this.applyActiveSlideChanges(t)}catch(t){console.error(t)}}applyActiveSlideChanges(t){if(t<0||t>=this.slideCount)throw"safety-slider: newActiveSlide index is out of range.";this.activeSlide=t}render(){return s(i,{class:"safety-slider",id:"ss-"+this.uuid},s("safety-slider-window",{activeSlide:this.activeSlide,isInfinite:this.isInfinite,uuid:this.uuid,trackTransitionDuration:this.trackTransitionDuration,isDraggable:!this.noDrag},s("slot",null)),this.slideCount>1&&!this.hasNoArrows&&s("safety-slider-arrows",{slideCount:this.slideCount,activeSlide:this.activeSlide,prevArrowInnerHTML:this.prevArrowInnerHTML,nextArrowInnerHTML:this.nextArrowInnerHTML,isInfinite:this.isInfinite,prevAriaLabel:this.prevArrowAriaLabel,nextAriaLabel:this.nextArrowAriaLabel,uuid:this.uuid}),this.slideCount>1&&!this.hasNoDots&&s("safety-slider-dots",{activeDot:this.activeSlide,dotCount:this.slideCount,dotAriaLabel:this.dotAriaLabel,uuid:this.uuid}))}get root(){return e(this)}};y.style="safety-slider{--safety-slider-bottom-padding:2rem;--safety-slider-x-padding:3rem;--safety-slider-btn-color:black;--safety-slider-btn-disabled-color:gainsboro;display:block;position:relative}safety-slider:not([no-arrows]){padding-left:var(--safety-slider-x-padding);padding-right:var(--safety-slider-x-padding)}safety-slider:not([no-dots]){padding-bottom:var(--safety-slider-bottom-padding)}safety-slider safety-slider-window{display:block}";const u=class{constructor(s){t(this,s),this.safetySliderSlideChange=r(this,"safetySliderSlideChange",7),this.slideCount=2,this.activeSlide=0,this.prevArrowInnerHTML="←",this.nextArrowInnerHTML="→",this.prevAriaLabel="Go to previous slide",this.nextAriaLabel="Go to next slide",this.prevArrowClick=()=>{this.safetySliderSlideChange.emit(this.getPrevSlideNumber())},this.nextArrowClick=()=>{this.safetySliderSlideChange.emit(this.getNextSlideNumber())}}getPrevSlideNumber(){return this.activeSlide-1>=0?this.activeSlide-1:this.slideCount-1}getNextSlideNumber(){return this.activeSlide+1<this.slideCount?this.activeSlide+1:0}render(){return s(i,null,s("button",{class:"safety-slider-arrow -prev",type:"button",disabled:!this.isInfinite&&0===this.activeSlide,innerHTML:this.prevArrowInnerHTML,onClick:this.prevArrowClick,"aria-label":this.prevAriaLabel,"aria-controls":"ssw-"+this.uuid}),s("button",{class:"safety-slider-arrow -next",type:"button",disabled:!this.isInfinite&&this.activeSlide===this.slideCount-1,innerHTML:this.nextArrowInnerHTML,onClick:this.nextArrowClick,"aria-label":this.nextAriaLabel,"aria-controls":"ssw-"+this.uuid}))}};u.style="safety-slider-arrows{--safety-slider-arrow-border-width:1px;--safety-slider-arrow-border-color:var(--safety-slider-btn-color);--safety-slider-arrow-background-color:white;--safety-slider-arrow-padding:0;--safety-slider-arrow-color:var(--safety-slider-btn-color);--safety-slider-arrow-width:2rem;--safety-slider-arrow-height:var(--safety-slider-arrow-width);--safety-slider-arrow-disabled-background-color:var(--safety-slider-btn-disabled-color);width:100%;position:absolute;z-index:1;top:50%;left:0;transform:translateY(-50%);display:flex;justify-content:space-between}button.safety-slider-arrow{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:var(--safety-slider-arrow-border-width) solid var(--safety-slider-arrow-border-color);background-color:var(--safety-slider-arrow-background-color);padding:var(--safety-slider-arrow-padding);color:var(--safety-slider-arrow-color);width:var(--safety-slider-arrow-width);height:var(--safety-slider-arrow-height);text-align:center;cursor:pointer}button.safety-slider-arrow[disabled]{background-color:var(--safety-slider-arrow-disabled-background-color);cursor:not-allowed}";const p=class{constructor(s){t(this,s),this.safetySliderSlideChange=r(this,"safetySliderSlideChange",7),this.dotAriaLabel="Go to slide {0} of {1}",this.dotClick=t=>{const s=t.target.getAttribute("data-slide");this.safetySliderSlideChange.emit(parseInt(s))}}componentWillRender(){this.dotButtons=[];for(let t=0;t<this.dotCount;t++)this.dotButtons.push(t)}getFormattedAriaLabel(t){return this.dotAriaLabel.replace("{0}",t.toString()).replace("{1}",this.dotCount.toString())}render(){return s(i,null,this.dotButtons.map((t=>s("button",{class:"safety-slider-dot",type:"button",disabled:t===this.activeDot,onClick:this.dotClick,"aria-label":this.getFormattedAriaLabel(t+1),"aria-controls":"ssw-"+this.uuid,"data-slide":t}))))}};p.style="safety-slider-dots{--safety-slider-dots-container-height:calc(var(--safety-slider-bottom-padding) / 2);--safety-slider-dots-container-position-bottom:calc(var(--safety-slider-bottom-padding) / 8);--safety-slider-dot-background-color:var(--safety-slider-btn-color);--safety-slider-dot-width:0.75rem;--safety-slider-dot-height:var(--safety-slider-dot-width);--safety-slider-dot-x-margin:calc(var(--safety-slider-dot-width) / 2);--safety-slider-dot-disabled-background-color:var(--safety-slider-btn-disabled-color);display:block;width:100%;height:var(--safety-slider-dots-container-height);position:absolute;z-index:1;left:0;bottom:var(--safety-slider-dots-container-position-bottom);text-align:center}button.safety-slider-dot{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;background-color:var(--safety-slider-dot-background-color);padding:0;border-radius:50%;width:var(--safety-slider-dot-width);height:var(--safety-slider-dot-height);margin:auto var(--safety-slider-dot-x-margin) 0;cursor:pointer}button.safety-slider-dot[disabled]{background-color:var(--safety-slider-dot-disabled-background-color);cursor:not-allowed}";const b=(t,s,i)=>{t.style.setProperty(s,i)},v=class{constructor(s){t(this,s),this.safetySliderInfiniteLoopAdjustment=r(this,"safetySliderInfiniteLoopAdjustment",7),this.safetySliderApplyTransitionDuration=r(this,"safetySliderApplyTransitionDuration",7),this.safetySliderSlideChange=r(this,"safetySliderSlideChange",7),this.infiniteLoopToFront=!1,this.infiniteLoopToBack=!1,this.mouseDragIsActive=!1,this.activeSlide=0,this.isInfinite=!1,this.trackTransitionDuration=250,this.isDraggable=!0}activeSlideChanged(t,s){this.moveActiveSlideClass(t,s),this.setInfiniteLoopToFront(t,s),this.setInfiniteLoopToBack(t,s)}componentWillRender(){this.slidesOffset=this.calculateTrackOffset()}componentWillLoad(){var t,s;const i=Array.from(this.root.children);i.forEach((t=>{t.classList.add("safety-slider-slide"),t.setAttribute("draggable","false"),this.updateSlideToBeInactive(t)})),this.updateSlideToBeActive(i[this.activeSlide]),this.rootWidth=this.root.offsetWidth,this.slideCount=this.root.children.length,this.beginningClone=null===(t=this.root.children[this.slideCount-1])||void 0===t?void 0:t.outerHTML,this.endingClone=null===(s=this.root.children[0])||void 0===s?void 0:s.outerHTML}componentDidUpdate(){(this.infiniteLoopToFront||this.infiniteLoopToBack)&&setTimeout((()=>this.safetySliderInfiniteLoopAdjustment.emit()),this.trackTransitionDuration)}windowResizeHandler(){this.rootWidth=this.root.offsetWidth}infiniteLoopAdjustmentHandler(){this.disableTrackTransitionDuration(),b(this.root,"--safety-slider-track-offset",this.rootWidth*(this.activeSlide+1)*-1+"px"),setTimeout((()=>this.safetySliderApplyTransitionDuration.emit()),this.trackTransitionDuration)}applyTransitionDurationHandler(){b(this.root,"--safety-slider-track-transition-duration",`${this.trackTransitionDuration}ms`)}mouseDownHandler(t){this.isDraggable&&(this.mouseInitialXOffset=t.offsetX,this.mouseDragIsActive=!0,this.disableTrackTransitionDuration())}mouseMoveHandler(t){return this.mouseDragIsActive?(this.mouseCurrentXOffset=t.offsetX,b(this.root,"--safety-slider-track-offset",`${this.slidesOffset+(this.mouseCurrentXOffset-this.mouseInitialXOffset)}px`),this.mouseCurrentXOffset):null}mouseLeaveHandler(t){this.dragEndHandler(t)}mouseUpHandler(t){this.dragEndHandler(t)}calculateTrackOffset(){return this.infiniteLoopToFront?this.rootWidth*(this.slideCount+1)*-1:this.infiniteLoopToBack?0:this.isInfinite?this.rootWidth*(this.activeSlide+1)*-1:this.rootWidth*this.activeSlide*-1}setInfiniteLoopToFront(t,s){this.infiniteLoopToFront=this.isInfinite&&0===t&&s===this.slideCount-1}setInfiniteLoopToBack(t,s){this.infiniteLoopToBack=this.isInfinite&&t===this.slideCount-1&&0===s}moveActiveSlideClass(t,s){const i=this.trackElement.querySelectorAll(".safety-slider-slide");this.updateSlideToBeInactive(i[s]),this.updateSlideToBeActive(i[t])}updateSlideToBeInactive(t){t.classList.remove("-active"),t.tabIndex=-1,t.setAttribute("aria-hidden","true")}updateSlideToBeActive(t){t.classList.add("-active"),t.tabIndex=0,t.setAttribute("aria-hidden","false")}disableTrackTransitionDuration(){b(this.root,"--safety-slider-track-transition-duration","0ms")}activeSlideAfterDrag(){const t=Math.floor(this.rootWidth/4);return this.mouseInitialXOffset-this.mouseCurrentXOffset>=t?this.fetchNextSlideIndex():this.mouseCurrentXOffset-this.mouseInitialXOffset>=t?this.fetchPreviousSlideIndex():this.activeSlide}fetchPreviousSlideIndex(){const t=this.activeSlide-1;return t>=0?t:this.isInfinite?this.slideCount-1:0}fetchNextSlideIndex(){const t=this.activeSlide+1;return t<=this.slideCount-1?t:this.isInfinite?0:this.slideCount-1}dragEndHandler(t){if(this.mouseDragIsActive){this.mouseCurrentXOffset=t.offsetX;const s=this.activeSlideAfterDrag();this.mouseDragIsActive=!1,b(this.root,"--safety-slider-track-transition-duration",`${this.trackTransitionDuration}ms`),s!=this.activeSlide?this.safetySliderSlideChange.emit(s):b(this.root,"--safety-slider-track-offset",`${this.slidesOffset}px`)}}render(){return s(i,{id:"ssw-"+this.uuid,style:{"--safety-slider-window-width":this.rootWidth+"px","--safety-slider-track-offset":this.slidesOffset+"px","--safety-slider-track-transition-duration":this.trackTransitionDuration+"ms"}},s("div",{class:"safety-slider-track",ref:t=>this.trackElement=t,"aria-live":"polite"},this.isInfinite&&this.slideCount>1&&s("div",{class:"safety-slider-clone",innerHTML:this.beginningClone}),s("slot",null),this.isInfinite&&this.slideCount>1&&s("div",{class:"safety-slider-clone",innerHTML:this.endingClone})))}get root(){return e(this)}static get watchers(){return{activeSlide:["activeSlideChanged"]}}};v.style="safety-slider-window{display:block;position:relative;z-index:2;width:100%;height:100%;overflow:hidden}.safety-slider-track{height:100%;position:relative;z-index:0;display:flex;box-sizing:border-box;transition:transform var(--safety-slider-track-transition-duration) ease;transform:translateX(var(--safety-slider-track-offset))}.safety-slider-slide{min-width:var(--safety-slider-window-width)}";export{y as safety_slider,u as safety_slider_arrows,p as safety_slider_dots,v as safety_slider_window}